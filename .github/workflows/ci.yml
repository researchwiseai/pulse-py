 name: CI

 on:
   push:
     branches: [main]
   pull_request:
     branches: [main]

 jobs:
   lint-and-test:
     runs-on: ubuntu-latest
     steps:
       - uses: actions/checkout@v3
       - uses: actions/setup-python@v4
         with:
           python-version: '3.x'
       - run: pip install .[dev]
       - name: Run black
         run: black --check .
       - name: Run ruff
         run: ruff .
       - name: Run tests
         run: pytest -q